<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>admin portal</title> <style>
        body {
            margin: 0;
            font-family: Arial;
            display: flex;
        }

      
        .sidebar {
            width: 250px;
            background: #f5f5f5;
            padding: 20px;
            height: 100vh;
            border-right: 1px solid #ccc;
            position: fixed;
        }

        .sidebar input, .sidebar select, .sidebar button {
            width: 100%;
            padding: 8px;
            margin-bottom: 12px;
        }

  
        .navbar {
            position: fixed;
            left: 250px;
            top: 0;
            width: calc(100% - 250px);
            background: #333;
            color: white;
            padding: 15px;
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .navbar select, .navbar button {
            padding: 6px;
        }

        .main {
            margin-top: 80px;
            margin-left: 250px;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        .card {
            border: 1px solid #ccc;
            border-radius: 6px;
            padding: 10px;
        }

        .card img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            border-radius: 4px;
        }

        .card button {
            width: 100%;
            margin-top: 5px;
            padding: 7px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3>Add-Fleet</h3>
        <input id="reg" placeholder="Reg no of vechile">
        <select  id="cat">
            <option value="">Select Category</option>
            <option>Auto</option>
            <option>Car</option>
            <option>Truck</option>
            <option>Bus</option>
        </select>
          <input id="driver" placeholder="Driver Name">
        <select  id="avail">
            <option value="">Available</option>
             <option value="">Unavailable</option>
        </select>
        <button onclick="addfleet()">Add Fleet</button>
    </div>
    <div class ="navbar">
        <span>Filters:</span>
        <select  id="filtercat" onchange="applyFilters()">
            <option value="All">All Category</option>
             <option>Auto</option>
            <option>Car</option>
            <option>Truck</option>
            <option>Bus</option>
        </select>
        <select  id="filterAvail" onchange="applyFilter()">
          <option value="All">All Availability</option>
          <option>Available</option>
          <option>Unavailable</option>
        </select>
        <button onclick ="clearFilters()">Clear Filters</button>
    </div>
    <div id="fleetContainer" class="main"></div>
    <script>
        let fleetList=[];
                function addfleet(){
            let reg=document.getElementById("reg").value.trim();
            let cat=document.getElementById("cat").value;
            let driver=document.getElementById("driver").value.trim();
            let avail=document.getElementById("avail").value;
            if (!reg||!cat||!driver){
                alert("All fields are required");
                return;
            }
            fleetList.push({
                reg,
                cat,
                driver,
                avail,
               Image:`https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png`
            });
            renderCards(fleetList);
            document.getElementById("reg").value="";
            document.getElementById("cat").value="";
            document.getElementById("driver").value="";
            document.getElementById("avail").value="Available";
        }

           function renderCards(data){
            const container =document.getElementById(fleetContainer);
            container.innerHTML=" ";
            data.forEach((fleet ,index)=>{
                let card=document.getElementById("div");
                card.className="card";
               card.innerHTML = `
                <img src="${fleet.img}">
                <h4>Reg No: ${fleet.reg}</h4>
                <p>Category: ${fleet.cat}</p>
                <p class="driver">Driver: ${fleet.driver}</p>
                <p class="status">Status: ${fleet.avail}</p>

                <button onclick="updateDriver(${index})">Update Driver</button>
                <button onclick="changeAvailability(${index})">Change Availability</button>
                <button onclick="deleteVehicle(${index})">Delete Vehicle</button>
            `;

            container.appendChild(card);
        });
    }

    function updateDriver(index) {
        let newDriver = prompt("Enter new Driver Name:");
        if (newDriver) {
            fleetList[index].driver = newDriver;
            renderCards(fleetList);
        }
    }

    function changeAvailability(index) {
        let curr = fleetList[index].avail;
        fleetList[index].avail = curr === "Available" ? "Unavailable" : "Available";
        renderCards(fleetList);
    }
    function deleteVehicle(index) {
        fleetList.splice(index, 1);
        renderCards(fleetList);
    }

    
    function applyFilters() {
        let catFilter = document.getElementById("filterCat").value;
        let availFilter = document.getElementById("filterAvail").value;

        let filtered = fleetList.filter(f => {
            let catMatch = (catFilter === "All" || f.cat === catFilter);
            let availMatch = (availFilter === "All" || f.avail === availFilter);
            return catMatch && availMatch;
        });

        renderCards(filtered);
    }


    function clearFilters() {
        document.getElementById("filterCat").value = "All";
        document.getElementById("filterAvail").value = "All";
        renderCards(fleetList);
    }
</script>


</body>
</html>